# 深入理解计算机系统

## 第三章

## **这章内容有多表，规定了各种表示方式，很重要。需要的时候要去查询。**

## **这章习题很重要，能够加深对于汇编概念的理解，根据参考答案和题目进行思考。**

### 1.数据表示

![](/image/14.png)



### 2.寄存器介绍和地址移动

![](/image/15.png)

这章表表示了寄存器的名称和功能，非常重要，后面的汇编寄存器基本都需要查看这章表。



![](/image/16.png)

寻址方式计算表，汇编指令中地址的技术根据此表。



![](/image/17.png)

数据移动指令，mov后面的字母表示移动的大小。指令里第一个数为源数据，第二个为目标地址，表示把源数据移动到目标地址。

movz表示剩余位补0，movs表示剩余位符号填充（把源数据的最高位进行填充扩展）



### 3.栈

![](/image/18.png)



红色部分说明，push先移动栈指针再赋值，pop先把数据弹出再进行栈指针移动。移动方向根据栈的方向而定，push往原理栈底方向移动8个字节，pop往靠近栈底方向移动8个字节。移动8个字节是因为64位机器，8个字节就是64位，能表示全部地址内容。



### 4.算数运算指令

![](/image/19.png)

要想好的理解指令含义做对应的练习题，根据答案进行分析理解。



### 5.逻辑控制

![](/image/20.png)

![](/image/21.png)

逻辑的控制都是根据条件码进行的，运算会指令会设置条件码，进行判断的时候需要读取，然后进行判断。比如大于还是小于，正还是负，要想好的理解还是做练习题跟书中内容细读。这个地方不是很好理解，个人的简单理解就是计算机在进行逻辑判断时就会根据条件码来判断出结果，具体通过哪些条件码的组合，比较复杂。



### 6.跳转



![](/image/22.png)

条件跳转就是根据运算后设置的条件码进行判断是否需要跳转。

直接跳转不进行计算直接跳转。



![](/image/23.png)



跳转会生成对应的跳转标记，再转换成后标记被变成相对地址或者绝对地址，图中是常用的相对地址。

红色标记为标记转换后生成的相对地址。地址计算为跳转指令后面的数字，跳转指令为1个字节，所以都是2个16进制后面的数字为需要计算的值。

比如03，表示跳转相对于下一个指令的地址加3，所以为8(5+3)。f8为补码，表示负数，转换后为负8，所以跳转地址为下一个指令地址减8，为5（d -8）



**练习题3.15，能帮助理解跳转地址的转换**



暂时看到这里，汇编需要记忆的规则比较多，理解比较慢