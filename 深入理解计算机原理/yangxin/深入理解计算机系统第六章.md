# 深入理解计算机系统

## 第六章

### 本章中的重要概念：局部性

一 个编写 良好的 计算机 程序常 常具有 良好的 局部性 （locality)。 也就是 ，它 们倾 向于引用 邻近于 其他最 近引用 过的数 据项的 数据项 ，或 者最近 引用过的数据 项本身 。这 种倾向性 ，被称 为局部 性原理 （principle of locality).*. 是一 个持久 的概念 ，对 硬件和 软件系 统的设计 和性能 都有着 极大的 影响。

**局部性通常有两 种不同 的形式 ：时间 局部性（temporal locality) 和空间局部性（spatiallocality)**



### 编写高速缓存友好的代码

**高速缓存：**紧靠近cpu读写速度也接近cpu速度。但是由于成本原因空间比较小，只能存放少量数据。所以当cpu从高速缓存中读取数据时，如果数据不存在就会导致需要去底层存储读取数据，会耗费时间。



所以如果能让cpu每次读取数据时劲量都有数据就会提高效率。

通过局部性的概念和高速缓存的性质，编写合理的代码劲量符号局部性就可以相对提高工作效率。

比如：如果顺序读取数组就符合空间局部性。如果在循环中通过重复利用局部变量就符合时间局部性。