# 第六章
### 6.1 存储技术
一些存储设备和存储技术的介绍，内存读写的流程；
### 6.2 局部性
局部性有两种不同的形式，分为时间局部性和空间局部性，怎么理解呢？

- 时间局部性：一个内存位置，被多次调用；
- 空间局部性：相邻的内存位置，被有序的调用；

所以，有良好局部性的程序，比局部性差的程序，运行得更快。
### 6.3 存储器的层次结构
可以当成是一个三角形的结构，越靠近顶部，使用的内存越小，访问的速度也就越快；

### 6.4 高速缓存存储器
为了解决 CPU 读取主存速度慢的问题，在 CPU 和主存之间添加了高速缓存存储器，有三个，分别为 L1、L2、L3；占用内存从小到大，访问速度从快到慢。其中 L1 的访问速度几乎与访问寄存器的速度相等。

#### 6.4.2 直接映射高速缓存确定一个请求是否命中
直接映射高速缓存的每个组只有一行。

- 1、组选择：高速缓存从 w 的地址中间抽取 s 个组索引位，定位到某个组；
- 2、行匹配：从 w 中的标记与组中的标记进行对比；
- 3、字抽取：通过 w 中的 b 位，即块偏移，找到块中的起始地址；

如果不命中，则需要从下一层中去读取。

#### 6.4.3 组相联高速缓存确定一个请求是否命中
组相联高速缓存的每个组可以有多行；具体的读取请求与直接映射高速缓存基本一样。

#### 6.4.4 全相联高速缓存确定一个请求是否命中
全相联高速缓存中只有一个组，所以读取的时候，不需要判断组，只需要通过标记和块偏移来读取就好了。