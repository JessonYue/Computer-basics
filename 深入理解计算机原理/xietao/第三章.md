# 第三章 程序的机器级表示
## 3.2 程序编码
### 3.2.1 机器级代码
	* 简单介绍了C语言经过编译器编译成基本的指令，机器也是将内存看成一个大的按字节寻址数组，以及程序内存包含的内容。
	 （问题：操作系统负责管理虚拟地址空间，将虚拟地址翻译成实际处理器的内存的物理地址）
### 3.2.2 代码示例
	* 在执行代码的时候，编译器会先编译成机器指令，进而编译成16进制的字节，机器根据字节来判断执行的是什么指令，进而执行
		响应的代码。
### 3.2.3 关于格式注解
	* 介绍了为了清除说明汇编代码，用一种格式来表示汇编代码，省略了大部分的伪指令。	
## 3.3 数据格式
		在64位机器上，C语言数据类型所占的大小，以及汇编代码指令有一个字符后缀，表示操作数的大小。
## 3.4 访问信息	
### 3.4.1 操作数指示符
	* 说明了操作数的三种类型：立即数，寄存器，内存引用。
### 3.4.2 数据传送指令
	* 叙述了数据从一个位置复制到另一个位置的指令的过程。	
### 3.4.3 数据传送示例	
	* 在C语言数据交换传输中叙述指令如何从内存读值到寄存器，在从寄存器写到内存。
### 3.4.4 压入和弹出栈数据	
		程序栈早数据传输过程的作用，栈顶元素地址最低，而且栈是向下生长的，通过指针的出栈和入栈进而操作内存数据
## 3.5 算术和逻辑操作
### 3.5.1 加载有效地址
	* 加载有效地址指令leaq的一些用法，他是从内存读取数据到寄存器，没有引用内存，也和有效地址计算无关。
### 3.5.2 一元和二元操作
	* 介绍了一元和二元操作的不同，一元中的操作数即是源又是目的，可以是寄存器也可以是内存位置。二元操作则不同。
### 3.5.3 移位操作
	* 在64位机器上，移位操作对W位长的数据进行操作，移位量是由寄存器的低m位决定的。
### 3.5.4 讨论
	* 只有右移操作要求区分有符号和无符号数。使的补码运算成为实现有符号整数运算的好方式。
### 3.5.5 特殊的算术操作
	* 讲解了产生两个64位数字的全128位乘积以及整数除法的指令。	
## 3.6 控制	
### 3.6.1 条件码
	* 条件码寄存器中一些常用条件码在执行一些指令操作的过程逻辑。
### 3.6.2 访问条件码
	* 不能直接读取的条件码常用的三种使用方式。
### 3.6.3 跳转指令
	* 列举了不同的条件码，着重说明了直接跳转和间接跳转指令在汇编语言中的情况。
### 3.6.4 跳转指令的编码
	* 跳转指令有几种不同的编码，最常用的就是他们会将目标指令的地址和紧跟在跳转指令后面那条指令的地址之间的差作为编码。
### 3.6.5 用条件控制来实现条件分支
	* 将条件表达式和语句从c语言翻译成机器码，最常用的方式就是结合有条件和无条件跳转。
### 3.6.6 用条件传送来实现条件分支
	* 实现条件操作的替换策略是条件转移。以及分析了基于条件数据传送的代码会比基于条件控制转移的代码性能要好。
### 3.6.7 循环
	* 汇编中的循环是有条件测试和跳转组合来实现的。
### 3.6.8 switch语句
	* switch语句是通过使用调转表数据结构开始实现，使用跳转表的优点是执行开关语句的时候和开关情况的数量无关。
## 3.7 过程
### 3.7.1 运行时栈
    * C语言过程调用机制使用了栈数据结构提供的后进先出的内存管理原则，程序用栈来管理过程所需的存储空间，栈和程序寄存器存放着传递
    	控制和数据、分配内存所需要的信息。	
### 3.7.2 转移控制
    * 说明了控制从函数P转移到函数Q过程中，计数器设置为Q的代码起始位置，返回Q的时候处理器必须记录好P继续执行的代码位置。
### 3.7.3 数据传送
    * 在X86-64中的大部分过程间的数据传送中是通过寄存器实现的。
### 3.7.4 栈上的局部存储
    * 有些时候局部的数据必须要放在内存中：1、寄存器不足以存放所有的本地数据。2、局部变量使用了地址运算符&。3、 某些局部变量是数据结构。
### 3.7.5 寄存器中的局部存储空间
    * 一个函数调用另一个函数的时候，寄存器会被划分出被调用者寄存器，被调用着不会覆盖调用者稍后会使用的寄存器值。
### 3.7.6 递归过程
    * 在递归过程调用在栈中都有它自己的私有空间，因此多个未完成调用的局部变量不会相互的影响。
## 3.8 数组分配和访问
### 3.8.1 基本原则
	* 数组的声明，根据数组类型来表明数组在在内存中所占的大小L * N。
### 3.8.2 指针运算
	* C语言允许对指针进行运算，而计算出来的值会根据该指针引用的数据类型的大小进行伸缩。
### 3.8.3 嵌套的数组
	* 要访问多维数组的元素，编译器会以数组起始为基地址，偏移量为索引。
### 3.8.4 定长数组
	* C语言能够优化定长数组，当程序要用一个常数作为数组的维度或者缓冲区的大小时，最好通过#define声明将这个常数与一个名字联系起来。
### 3.8.5 变长数组
	* ISOC99引入了一种功能，允许数组的维度是表达式，在数组被分配的时候才计算出来。


