# 《深入理解计算机系统》读书总结
## 第五章.优化程序性能
### 总结
本章主要详细的介绍了下面几点：
- 编译器的能力和局限性
- 程序的优化

### 需要注意的点：
1. 必须选择一组适当的算法和数据结构
2. 必须编写出编译器能够有效优化以转换成高效可执行代码的源代码
3. 将函数移出循环体，性能有显著改善
4. 消除不必要的内存引用，也就是多使用本地变量
5. 通过增加每次迭代计算的元素的数量，减少循环的迭代次数
6. 提高并行性：多个累积变量、重新结合变换
    这里解决了第一章提出的一个问题：简单排列下算术表达式中的括号就能让函数运行得更快？
    例如一个本地变量乘两个引用变量，先计算两个引用变量，再与本地变量结合，能换来更高的性能
7. 如果我们的并行度P超过了可用的寄存器数量，那么编译器会诉诸溢出(spilling)，将某些临时值存放在内存中，通常在运行时堆栈上分配空间

### 结语
- 这一章再一次刷新了自己的认知，以前真的写了很多“垃圾”代码，还好现在发现了，哈哈哈，赶紧动手改起来

