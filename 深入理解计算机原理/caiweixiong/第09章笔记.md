# 《深入理解计算机系统》读书总结
## 第九章.虚拟内存
### 总结
本章主要详细的介绍了下面几点：
- 硬件的寻址的过程
- 虚拟地址与物理地址的转换
- 内存的映射

### 心得：
1. 虚拟地址由两部分组成：虚拟页大小(也就是偏移量)与虚拟页码，因为页内的具体大小就是这么大，所以组织物理地址的时候也是直接使用虚拟页的大小作为偏移量
2. 虚拟页可以分为多级，每一级使用的都是虚拟页码的不同块，分多级的原因是为了节省内存，当虚拟页映射到物理内存时，可以省很多的空间
3. CPU寻址时，通过MMU和操作系统维护的常驻内存的查询表来生成对应的物理地址，而为了让这个过程更快，加入了很多处理方法，如在MMU中缓存TLB等
4. 内存映射时，其实没有真正的将磁盘上的数据传送到物理内存，直到CPU第一次引用时才真正的进行操作
5. 共享对象时，也并没有在物理内存中创建新的对象，只是修改了对象的读写位为只读，直到不同的进程对共享对象进行了写操作，才会进行写时复制

### 结语
- 这一章前面的部分还是挺好理解的，到了后半部分，越看越懵逼，然后看了几遍，突然感觉就通了，基本上这一章都看懂了，就像路哥说的基础的东西要看到烂在骨髓里，哈哈哈，看懂了才知道，原来虚拟内存是这样的东西！有空还有再多看几遍，加深印象，继续加油！

