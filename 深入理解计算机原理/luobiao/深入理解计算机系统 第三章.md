# 深入理解计算机系统 第三章

标签（空格分隔）： 第三章程序的机器级表示 总结

---

 **- 程序编码**
 1. 机器级代码
    程序计数器称为PC，在x86-64中用%rip表示，常常代表执行下一条指令的内存地址
    整数寄存器文件包含16个命名位置，分别存储64位的值，可以用来存储地址或整数数据，
    条件码寄存器保存着最近执行的算术或逻辑指令的状态信息用来实现控制或数据流中的条件变化
    一组向量寄存器可以存放一个或多个整数或浮点数值
这里的机器码是不断变化的，受处理器影响，代码规则也会发生变化

格式注解：
只要记住以"."开头的行都是指导汇编器和链接器的伪指令
 2. 数据格式
C声明      Intel数据类型         汇编代码后缀     大小（字节）
char         字节                   b                1
short         字                    w                2
int          双字                   l                4
long         四字                   q                8
char*        四字                   q                8
float        单精度                 s                4
double       双精度                 l                8
 3. 访问信息
 这里要知晓操作数指示符，大多数指令都会有一个或多个操作数，指示出执行一个操作中要使用的源数据值，以及放置结果的目的位置。不同的操作数分为三种情况，第一种类型是立即数用来表示常数值，在汇编代码中书写方式是以’$‘后面跟一个标准C表示法的整数；第二种类型是寄存器，表示某个寄存器的内容，它使用ra来表示任意寄存器a，用引
用R[ra]来表示它的值；第三类型操作数是内存引用，它会根据计算出来的地址（通常称为有效地址）访问某个内存位置，使用符号Mb[Addr]表示对存储在内存中从地址Addr开始的b个字节值的引用

 4. 数据传送指令
 指令                 效果                描述
MOV  S，D            D <- S               传递
movb                                     传送字节
movw                                     传送字
movl                                     传送双字
movq                                     传送四字
movabsq I，R        R <- I               传送绝对四字

5. 条件码
CF:进位标志，最近的操作使最高位产生了进位，可用来检查无符号操作的溢出
ZF：零标志，最近操作得出的结果为0
SF：符号标志，最近操作得到的结果为负数
OF：溢出标志，最近操作导致一个补码溢出，分为正溢出或负溢出

6. 跳转指令
jump：跳转指令，会导致执行切换到程序到一个全新的位置，跳转的目的地通常用一个符号（lable）指明


总结：
该章节学习心得，了解一些汇编指令，还有，条件，循环和过程的控制过程，了解指针，及内存越界引用，不过有些东西因为在实际上没有使用过，所以看起来还是比较晦涩，后续在看完本书时，还需会看一边



