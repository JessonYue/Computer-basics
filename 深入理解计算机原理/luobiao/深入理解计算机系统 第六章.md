# 深入理解计算机系统 第六章

第六章 存储器层次结构

---

1. 存储技术
随机访问存储器（RAM）分为两类，静态（SRAM）和动态（DRAM），静态比动态更快，静态用来作为高速缓存存储器

增强DRAM，快页模式，扩展数据输出， 同步DRAM，双倍数据速率同步DRAM，视频RAM

非易失性存储器，在关电后，仍然保存他们的信息（ROM），可擦写可编程ROM（EPROM）
闪存是一类非易失性存储器，基于EEPROM

磁盘存储：磁盘是应用于保存大量数据的存储设备，存储数据的数量级可以达到几千千兆字节，磁盘容量由记录密度、磁道密度、面密度来决定

2. 局部性
一个编写良好的计算机程序常常具有良好的局部性，它更倾向于引用邻近于其他最近引用过的数据项的数据项，或者最近引用过的数据项本身，这种倾向性，被称为局部性原理，局部性有两种不同形式的表现，时间局部性和空间局部性

3. 存储器层次结构
寄存器->高速缓存L1->高速缓存L2->高速缓存L3->主存（DRAM）-> 本地二级存储（本地磁盘）-> 远程二级存储（web服务器）

缓存命中：当程序需要在第k+1层的某个数据对象d时，他首先在当前存储在第k层的一个块中查找d，如果d刚好缓存在第k层，那么就是我们所说的缓存命中
缓存不命中：相反在k层没有缓存对象d，则称为缓存不命中；冷缓存（一个空的缓存）；

缓存管理

4. 高速缓存存储器
直接映射高速缓存，根据每个组的高速缓存行数E，高速缓存被分为不同类。每个组中有一行的高速缓存称之为直接映射高速缓存。

高速缓存参数的性能影响
不命中率，在一个程序执行或程序的一部分执行期间，内存引用不命中的比率
命中率，命中的内存的引用比率
命中时间，从高速缓存一个字到CPU所需的时间，包括组选择、行确认和字选择的时间
不命中处罚，由于不命中所需要的额外时间

高速缓存大小的影响，块大小的影响，相联度影响，写策略的影响

总结：本章主要介绍了存储器的相关分类，以及各个存储器的用途，涉及到一些相关的一些概念，包含缓存命中和不命中，整个计算机存储器层级变换，和运行速率相关问题
