#### 4、处理器体系结构

- 处理器必须执行一系列的指令，每条指令执行简单的操作。指令被编码为由一个或者多个字节序列组成的二进制格式。一个处理器支持的指令和指令的字节级编码称为它的指令集体系结构
- 内存从概念上来讲就是一个很大的字节数组，保存着程序和数据
- Y86-64指令集
   	1. 4个整形操作指令
     	2. 7个跳转指令
     	3. 6个条件指令
     	4. call指令将返回地址入栈，然后跳转到目的地址
     	5. pushq和popq指令实现入栈和出栈
     	6. halt指令停止指令的执行
- 指令集的一个重要性质是字节的编码必须有唯一的解释
- 逻辑门是数字电路的基本计算单元，它们产生的输出，等于它们输入位值的某个布尔函数
- 将很多的逻辑门组合成一个网，就能构建计算块，称为组合电路

​        同C语言不一样，不要求不同的选择表达式之间互斥。从逻辑上讲，这些选择表达式是顺序求值的，且第一个求值为1的情况会被选中

- SEQ处理器阶段序列：每个时钟周期执行一条指令，通过所有的五个阶段
  	1. 取值
   	2. 译码
   	3. 执行
   	4. 访存
   	5. 写回
   	6. 更新PC
- SEQ的实现包括组合逻辑和两种存储器设备：时钟寄存器、随机访问存储器
- 遵循从不回读的原则组织计算
- 流水线化（并行执行）提高系统的吞吐量，但会增加延迟
- 流水线局限性：
  	1. 不一致的划分
   	2. 流水线过深，收益反而下降
- SEQ+新的处理器处理阶段
- 冒险的类型：数据冒险、控制冒险
- 数据冒险的类型：
  	1. 程序寄存器
   	2. 程序计数器
   	3. 内存
   	4. 条件码寄存器
   	5. 状态寄存器
- 避免数据冒险
  	1. 暂停
   	2. 转发
   	3. 加载/使用
   	4. 避免控制冒险
- 指令集体系结构包括三种不同的内部产生的异常：
  	1. halt指令
   	2. 有非法指令和功能码组合的指令
   	3. 取值或数据读写试图访问一个非法地址