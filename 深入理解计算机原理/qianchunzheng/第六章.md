# 第六章 储存器层次结构

## 储存技术

储存器具有其自身的层次结构，自高至低排列。从低到高，容量越来越小，速度越来越快。

**静态RAM**

静态RAM成本高，速度快既可以做CPU芯片上的高速缓存也可以做芯片下的高速缓存

**动态RAM**

动态RAM成本低，速度慢，主要用于做图形帧缓冲区和主存。

**访问主存**

数据流通过称为总线的共享电子电路再处理器和DRAM主存之间来回传递。每次CPU和主存之间的数据传送都是通过一系列步骤来完成的，这些步骤乘坐总线事务。

## 局部性

局部性，即程序倾向于引用邻近于其他最近引用过的数据。局部性分两种，时间局部性和空间局部性。这让我联想到算法是时间复杂度和空间复杂度

重复引用相同变量的程序具有良好的时间局部性

对于具有步长为k的引用模式的程序，步长越小，空间局部性越好。具有步长为l的引用模式的程序有很好的空间局部性，在内存中以大步长跳来跳去的程序的空间局部性会差很多

对于取指令来说，循环有好的时间和空间局部性。



## 储存器的层次结构

现代系统中的储存器都是基于缓存然后形成层次结构。程序更倾向于展示局部性：

利用时间局部性：由于时间局部性，同一数据对象可能会被多次使用。一旦一个数据对象在第一次不命中时被复制到缓存中，我们就会期望后面对该目标有一系列的访问命中。因为缓存比低一层的存储设备更快，对后面的命中的服务会比最开始的不命中的快很多

利用空间局部性：块通常包含有多个数据对象。由于空间局部性，我们会期望后面对该块中其他对象的访问能够步长不命中后复制该块的花费。

