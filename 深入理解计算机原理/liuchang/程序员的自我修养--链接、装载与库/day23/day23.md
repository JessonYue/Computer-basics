## 						程序员的自我修养--链接、装载与库

ELF格式的文件归纳为4类：

| ELF文件类型  | 说明                                                         | 实例             |
| ------------ | ------------------------------------------------------------ | ---------------- |
| 可重定位文件 | 这类文件包含了代码和数据，可以被用来链接成可执行文件或共享目标文件，静态链接也可以归为这一类。 | Linux 的 .o      |
| 可执行文件   | 这类文件包含了可以直接执行的程序，它的代表就是elf 可执行文件，它们一般都没有扩展名。 | Linux的.out      |
| 共享目标文件 | 这种文件包含了代码和数据，可以在一下两种情况下使用，一种是链接器可以使用文件个其他的可重定向文件和共享目标文件链接，产生的新目标文件，第二种是动态链接器可以将几个这种共享文件与可执行文件结合，作为进程影像的一部分来运行。 | Linux的.so       |
| 核心转储文件 | 当进程意外终止时，系统可以将该进程的地址空间的内容及终止时的一些其他信息转储到核心转储文件。 | Linux的core dump |

程序源代码被编译后主要分为两种段：程序指令和程序数据，代码段属于程序指令，数据段和.bss段属于程序数据。

除了 基本段之外还有 只读数据段（.rodata）、注视信息段（.comment）和堆栈提示段（.note.GNU-stack）

通过链接器链接产生可执行文件时，他会为我们定义很多特殊的符号，并没有在程序中定义，但是可以直接调用，被称为特殊符号。

编译器认为函数和进行过初始化的全局变量为强符号。

未初始化的全局变量为弱符号。

对外部目标文件的符号引用在目标文件被最终链接成可执行文件时，它们必须要被正确决议，若果没有找到符号则会报错，这种被称为强引用。但是，如果在未被定义情况下，不会针对该引用进行报错，则被称为弱引用。



在本章主要了解到了 代码段的信息，主要了解到头文件下面，程序指令和程序数据是如何在存放的，并且了解到，如何根据数据进行相应的数据处理，并且 根据符号进行链接引用。









