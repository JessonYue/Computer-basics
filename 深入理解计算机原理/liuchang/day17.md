​																			并发编程

关于服务器，有几点重要内容需要说明：

1、通常服务器会运行很长时间，所以我们必须要包括一个 SIGCHLD 处理程序，来回收姜丝子进程的资源。

2、父子进程必须关闭他们各自的 connfd 副本。

3、因为套接字的文件表表项中的引用计数，直到父子进程的 connfd 都关闭了，到服务器的连接才会终止。

select 函数会一直阻塞，直到读集合中至少有个描述符准备好可以读。当且仅当一个从该描述符读取一个自己的请求不会阻塞时，描述符就表示准备好可以读了。

事件驱动设计的优点：

1、它比基于进程的设计给了程序员更多的对程序行为的控制。

2、一个基于I/O多路复用的事件驱动服务器是运行在单一进程上下文中的，因此每个逻辑流都能访问该进程的全部地址空间。

事件驱动的缺点：编码复杂

线程就是运行在进程上下文中的逻辑流。

在任何一个时间点上，线程师可结合的或者分离的。一个可结合的线程能够被其他线程收回和杀死。在被其他线程回收之前，它的内存资源是不释放的。

多线程的C程序中变量根据它们的存储类型被映射到虚拟内存：

1、全局变量：全局变量是定义在函数之外的变量。

2、本地自动变量：就是定义在函数内部但是没有 static 属性的变量。

3、本地静态变量：就是定义在函数内部并有 static 属性的变量。

死锁：一组线程被阻塞了，等待一个永远也不会为真的条件。

在这一章节 主要学习了 进程、I/O多路复用和线程。

进程是有内核自动调度的，而且因为它们有各自独立的虚拟地址空间，所以要实现共享数据，必须要显式的IPC机制。

为了提高性能，所以引入了线程 的概念，在单一进程中，为了不影响主线程的处理效率，则开辟了单独的处理空间，单独去处理共享数据。