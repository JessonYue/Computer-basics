​														第四章 处理器体系结构

一个处理器支持的指令和指令的字节集编码成为他的指令集体系结构（Instruction-Set Architecture，ISA）。各种处理器都有不同的ISA。

ISA 模型看上去应该是顺序指令执行。

为什么需要了解处理器的设计呢？

- 处理器设计是非常重要的。可以了解到处理器的结构和规则。
- 理解处理器工作原理能够帮助理解整个计算机系统如何工作。
- 可以帮助设计硬件系统。可以完成最基础的系统上做更低抽象级别上进行设计和编程。
- 完成工作。

一、 Y86-64 指令集体系结构

（1）程序员可见的状态

Y86-64 每条指令都会修改或读取处理器状态的某些部分，这被称为程序员可见状态。

Y86-64 有15个程序寄存器，每一个寄存器存储一个64位的字，通过栈指令进行入栈、出栈等操作，并根据条件码进行算数或逻辑指令运算。

内存是一个很大的字节数组，用于保存程序和数据。而在Y86-64中使用虚拟内存地址来引用内存位置。

程序都会有一个程序状态，通过状态码表明程序的执行状态，根据状态指示出执行状况，并通知出来。

（2）Y86-64 指令

Y86-64 ISA 中各个指令就是我们处理实现的目标。它只包括 8 字节整数操作，寻址方式比较少，操作也比较少。

（3）指令编码

指令集的一个重要性质就是字节编码必须有唯一的解释。任意一个字节序列要么是一个唯一的指令序列的编码，要么就不一个合法的自己序列。

比较 x86-64 和y86-64

1、Y86-64 寄存器字段的位置是固定的，而不同的x86-64是不一样的。

2、Y86-64 编码要比 x86-64 简单很多。

3、x86-64 可以将常量值编码成1、2、4、8个字节，而 Y86-64 只会将常数值编码成8个字节。

二、逻辑设计和硬件控制语言 HCL

HCL （Hardware Control Language）用这种语言来描述不同处理器设计逻辑控制。

（1）逻辑门

逻辑门是数字电路的基本计算单元。

逻辑门总是活动的，一旦一个门输入变化了，在很短的时间内，数据就会相应的变化

（2）存储器和时钟

时钟寄存器 存储单个位或字节，控制寄存器加载输入值。

随机访问存储器 储存多个字，用地址来选择该读或该写那个字节。

在硬件中，寄存器直接将他的输入和输出线连接到电路的其他部分。















