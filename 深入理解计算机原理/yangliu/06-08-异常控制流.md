**现代系统通过使控制流发生突变来对这些情况作出反应，一般而言，这些突变成为异常控制流**

**异常控制流发生在计算机系统的各个层次**
- 在硬件层，硬件检测到的时间会触发控制突然转移到异常处理程序。
- 在操作系统层，内核通过上下文切换将控制从一个用户进程转移到另一个用户进程。
- 在应用曾 哟个进程发送信号到另一个进程，而接受者会将控制突然转移到他的一个信号处理程序。


## 异常

**异常就是控制流中的突变，用来响应处理器状态中的某些变化。**

任何情况下，当处理器监测到有事件发生时，就会通过一张佳偶哦异常表的跳转表，进行一个间接过程调用，到一个专门设计用来处理这列时间的操作系统子程序，异常处理器。
- 处理程序将控制返回给当前指令，即当事件发生时正在执行的指令
- 处理程序将控制返回给I next，如果没有发生异常将会执行的下一条指令
- 处理程序终止被中断的程序
### 异常处理

系统中可能的每种类型的异常都分配了一个位置的非负数的异常号（处理器分配，操作系统分配）

**异常类似于过程调用，但是有一些重要的不同之处**

- 过程调用是，在跳转到处理器程序之前，处理器将返回地址压入栈中，然而根基异常的类型，返回地址要么是当前指令，要么是下一条指令。
- 处理器也会那一些额外的处理器状态压倒栈里，当前处理程序返回时，重新开始执行被中断的程序回需要这些状态
- 如果控制从用户程序转移到内核，所有这些项目都被压到内核栈中，而不是压到用户栈中
- 异常处理程序运行在内核模式下，这意味着它们对所有的系统资源都可以完全访问。


### 异常的类别


类别| 原因|同步/异步|返回行为
---|---|---|---|---
中断 | 来自I/O的设备信号|同步|总是返回到下一条指令
陷阱 | 有意的异常|同步|总是返回到下一条指令
故障|潜在的可恢复的错误|同步|可能返回到当前指令
终止|不可恢复的错误|同步|不会返回

## 进程

进程提供给应用程序的关键抽象
- 一个独立的逻辑控制流，提供了程序独占了处理器的假象
- 一个私有的地址空间，提供了应用程序独占了内存系统的假象

### 逻辑控制流
程序计数器值的序列叫做逻辑控制流
### 并发流


- 一个逻辑流的执行在时间上与另一个流重叠称为并发流，这两个流并发运行。

- 多个流并发的之心的现象叫做并发。
- 一个进程和其他进程轮流运行的盖脸为多任务
- 一个进程执行它的控制柳的一部分的每一个时间段叫做时间片

### 私有地址空间

每个进程为每个程序提供它自己的私有地址空间，和这个空间的某个地址相关联的那个内存字节是不能被其他进程读写的，这个地址是私有的。
### 用户模式和内核模式


### 上下文切换